<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />



<title></title>

<script src="README_files/jquery-1.11.0/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="README_files/bootstrap-3.3.1/css/bootstrap.min.css" rel="stylesheet" />
<script src="README_files/bootstrap-3.3.1/js/bootstrap.min.js"></script>
<script src="README_files/bootstrap-3.3.1/shim/html5shiv.min.js"></script>
<script src="README_files/bootstrap-3.3.1/shim/respond.min.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<link rel="stylesheet"
      href="README_files/highlight/default.css"
      type="text/css" />
<script src="README_files/highlight/highlight.js"></script>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs && document.readyState && document.readyState === "complete") {
   window.setTimeout(function() {
      hljs.initHighlighting();
   }, 0);
}
</script>



</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img { 
  max-width:100%; 
  height: auto; 
}
</style>
<div class="container-fluid main-container">




<div id="rstrava" class="section level1">
<h1>rStrava</h1>
<div id="marcus-w.-beck-mbafs2012gmail.com-pedro-villarroel-pedrodvfgmail.com" class="section level5">
<h5><em>Marcus W. Beck, <a href="mailto:mbafs2012@gmail.com">mbafs2012@gmail.com</a>, Pedro Villarroel, <a href="mailto:pedrodvf@gmail.com">pedrodvf@gmail.com</a></em></h5>
</div>
<div id="overview-and-installation" class="section level3">
<h3>Overview and Installation</h3>
<p>This is the development repository for rStrava, an R package to access data from the Strava API. The package can be installed and loaded as follows:</p>
<pre class="r"><code>install.packages(&#39;devtools&#39;)
devtools::install_github(&#39;fawda123/rStrava&#39;)</code></pre>
</div>
<div id="issues-and-suggestions" class="section level3">
<h3>Issues and suggestions</h3>
<p>Please report any issues and suggestions on the <a href="https://github.com/fawda123/rStrava/issues">issues link</a> for the repository.</p>
<p>Linux: <a href="https://travis-ci.org/fawda123/rStrava"><img src="https://travis-ci.org/fawda123/rStrava.svg?branch=master" alt="Travis-CI Build Status" /></a></p>
<p>Windows: <a href="https://ci.appveyor.com/project/fawda123/rStrava"><img src="https://ci.appveyor.com/api/projects/status/github/fawda123/rStrava?branch=master" alt="AppVeyor Build Status" /></a></p>
</div>
<div id="package-overview" class="section level3">
<h3>Package overview</h3>
<p>The functions are in two categories depending on mode of use. The first category of functions scrape data from the public Strava website and the second category uses the API functions. The second category requires an authentication token. The help files for each category can be viewed using <code>help.search</code>:</p>
<pre class="r"><code>help.search(&#39;notoken&#39;, package = &#39;rStrava&#39;)
help.search(&#39;token&#39;, package = &#39;rStrava&#39;)</code></pre>
<div id="scraping-functions" class="section level4">
<h4>Scraping functions</h4>
<p>An example using the scraping functions:</p>
<pre class="r"><code># get athlete data for these guys
athl_fun(c(2837007, 2527465), trace = FALSE)</code></pre>
<pre><code>## $`2837007`
## $`2837007`$units
## [1] &quot;mi&quot; &quot;h&quot;  &quot;m&quot;  &quot;ft&quot;
## 
## $`2837007`$location
## [1] &quot;Pensacola, FL&quot;
## 
## $`2837007`$monthly
## Jul 2014      Aug      Sep      Oct      Nov      Dec Jan 2015      Feb 
## 519.2109 631.4727 301.7036 659.5382 301.7036 435.0145 385.9000 336.7855 
##      Mar      Apr      May      Jun      Jul 
## 484.1291 491.1455 442.0309 561.3091 385.9000 
## 
## $`2837007`$year_to_date
##       Distance           Time Elevation Gain          Rides 
##      3051.1000       183.3833     14045.0000       239.0000 
## 
## $`2837007`$all_time
##  Total Distance      Total Time Total Elev Gain     Total Rides 
##      10191.6000        589.8333      62956.0000        753.0000 
## 
## 
## $`2527465`
## $`2527465`$units
## [1] &quot;km&quot; &quot;h&quot;  &quot;m&quot; 
## 
## $`2527465`$location
## [1] &quot;Caracas, Distrito Metropolitano de Caracas, Venezuela&quot;
## 
## $`2527465`$monthly
## Jul 2014      Aug      Sep      Oct      Nov      Dec Jan 2015      Feb 
##   259.05   290.45   321.85   172.70   266.90   753.60   447.45   651.55 
##      Mar      Apr      May      Jun      Jul 
##   188.40     0.00     0.00     0.00    15.70 
## 
## $`2527465`$year_to_date
##       Distance           Time Elevation Gain          Rides 
##        1083.30          61.15       18108.00          41.00 
## 
## $`2527465`$all_time
##  Total Distance      Total Time Total Elev Gain     Total Rides 
##       6678.2000        351.1167     109764.0000        302.0000</code></pre>
</div>
<div id="api-functions" class="section level4">
<h4>API functions</h4>
<p>These functions require a Strava account and a personal API, both of which can be obtained on the Strava website. The user account can be created by following instructions on the <a href="https://www.strava.com/">Strava homepage</a>. After the account is created, a personal API can be created under API tab of <a href="https://www.strava.com/settings/api">profile settings</a>. The user must have an application name (chosen by the user), client id (different from the athlete id), and an application secret to create the authentication token. Additional information about the personal API can be found <a href="https://strava.github.io/api/">here</a>. Every API retrieval function in the rStrava package requires an authentication token (called <code>stoken</code> in the help documents). The following is a suggested workflow for using the API functions with rStrava.</p>
<p>First, create the authentication token using your personal information from your API. Replace the <code>app_name</code>, <code>app_client_id</code>, and <code>app_secret</code> objects with the relevant info from your account.</p>
<pre class="r"><code>app_name &lt;- &#39;myappname&#39; # chosen by user
app_client_id  &lt;- &#39;myid&#39; # an integer, assigned by Strava
app_secret &lt;- &#39;xxxxxxxx&#39; # an alphanumeric secret, assigned by Strava

# create the authentication token
stoken &lt;- httr::config(token = strava_oauth(app_name, app_client_id, app_secret))</code></pre>
<p>The API retrieval functions can be used after the token is created.</p>
<pre class="r"><code>myinfo &lt;- get_athlete(stoken, id = &#39;2837007&#39;)
head(myinfo)</code></pre>
<pre><code>## $id
## [1] 2837007
## 
## $resource_state
## [1] 3
## 
## $firstname
## [1] &quot;Marcus&quot;
## 
## $lastname
## [1] &quot;Beck&quot;
## 
## $profile_medium
## [1] &quot;https://dgalywyr863hv.cloudfront.net/pictures/athletes/2837007/900880/2/medium.jpg&quot;
## 
## $profile
## [1] &quot;https://dgalywyr863hv.cloudfront.net/pictures/athletes/2837007/900880/2/large.jpg&quot;</code></pre>
</div>
</div>
<div id="license" class="section level3">
<h3>License</h3>
<p>This package is released in the public domain under the creative commons license <a href="https://tldrlegal.com/license/creative-commons-cc0-1.0-universal">CC0</a>.</p>
</div>
<div id="to-do" class="section level3">
<h3>To do</h3>
<p>check date format for <code>get_efforts_list</code>, is there an easy way to get athlete, segment, club id numbers?</p>
</div>
</div>


</div>

<script>

// add bootstrap table styles to pandoc tables
$(document).ready(function () {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
});

</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
